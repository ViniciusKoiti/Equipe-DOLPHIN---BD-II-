
USE banco;
DELIMITER //

CREATE TRIGGER impede_de_venda
BEFORE INSERT
ON venda
FOR EACH ROW

BEGIN
	DECLARE msg VARCHAR(100);
    IF DATE_FORMAT(now(),'%H') < 8  AND DATE_FORMAT(now(),'%H') > 18 THEN 
		
    		SET msg = "DEU RUIM";
            SIGNAL SQLSTATE '45000' set MESSAGE_TEXT = msg;
        
    END IF;
		

END;



//
DELIMITER ;
